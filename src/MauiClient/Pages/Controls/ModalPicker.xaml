<?xml version="1.0" encoding="utf-8"?>

<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:models="clr-namespace:Shared.Entities;assembly=Shared"
             x:Class="MauiClient.Pages.Controls.ModalPicker"
             Color="{StaticResource Primary}"
             Size="300,800">
    
    <toolkit:Popup.Content>
        
        <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center"
                             Margin="10">
            <Label Text="This is a custom modal!" FontSize="18" HorizontalOptions="Center"/>
                <CollectionView ItemsSource="{Binding Items}" SelectionMode="Single" SelectionChanged="OnOptionSelected"
                                HeightRequest="700">
                    <CollectionView.ItemTemplate>
                        <DataTemplate x:DataType="models:BaseDefinition">
                            <Border Padding="10" BackgroundColor="Transparent" 
                                    HorizontalOptions="Center" Stroke="Black" StrokeThickness="1"
                                    StrokeShape="Rectangle">
                                <Label Text="{Binding Name}" FontSize="16"></Label>
                            </Border>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            
            <Button Text="Close"
                    Clicked="OnClose"
                    BackgroundColor="Red"
                    TextColor="White"
                    Margin="10"
                    Padding="10"
                    CornerRadius="10"/>
        </VerticalStackLayout>
    </toolkit:Popup.Content>
</toolkit:Popup>